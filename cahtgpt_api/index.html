<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ChatGPT API Example</title>
  </head>
  <body>
    <h1>ChatGPT API Example</h1>

    <div>
      <label for="prompt">Enter your prompt:</label>
      <input type="text" id="prompt" />
    </div>

    <div>
      <button id="generate-btn">Generate</button>
    </div>

    <div>
      <h2>Generated text:</h2>
      <p id="generated-text"></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@openai/api@1.2.1/dist/web.js"></script>

    <script>
      const openai = require("@openai/api");
      const api_key = "";

      const api = new openai(api_key);

      const generateBtn = document.getElementById("generate-btn");
      const promptInput = document.getElementById("prompt");
      const generatedText = document.getElementById("generated-text");

      generateBtn.addEventListener("click", () => {
        const prompt = promptInput.value;

        api.complete({
          engine: "davinci",
          prompt,
          maxTokens: 50,
        })
        .then(response => {
          generatedText.textContent = response.choices[0].text;
        })
        .catch(error => {
          console.error(error);
        });
      });
    </script>
  </body>
</html>
